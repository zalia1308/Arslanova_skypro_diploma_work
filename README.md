# Arslanova_skypro_diploma_work

Задача: автоматизировать UI- и API-тесты из моей финальной работы по ручному тестированию.

Моя финальная работа по ручному тестированию по сайту Кинопоиск. 
Тест-план проекта ручного тестирования: https://zalia13.yonote.ru/share/7eb48662-2489-415f-b080-3170340f417a.

Проект ручного тестирования был автоматизировать. 
Автоматизированный проект "Arslanova_skypro_diploma_work" состоит из двух директорий "PageObject", "tests" и файла "config.py". 

В директории "PageObject" лежат файлы с классами. 
Класс, описывающий авторизацию, написан в файле Authorization.py.
Класс, описывающий главную страницу, написан в файле MainPage.py.
Класс, описывающий страницу "Расширенный поиск", написан в файле AdvancedSearch.py.
Класс, описывающий методы с запросами API, написан в файле FilmsAPI.py.

В директории "tests" лежат файлы test_API.py и test_UI.py, в которых написаны тесты API и UI, составленных на основе коллекции и API-кейсов и по функциональному чек-листу из финальной работы по ручному тестированию.

В файле "config.py" указаны специфичные данные: настройки окружения (URL, пути до файлов и т. д.), тестовые данные (логины, пароли, токены и т. д.).

# Инструкция для работы с тестами
Перед запуском тестов нужно в файле "config.py" добавить нужные логины и пароли аккаунта Яндекс, у которой есть подписка для входа в Кинопоиск. 
Токен не нужно менять, так как запросы API отправляются на dev-стенд Кинопоиска.

Для запуска тестов сперва открываем "Terminal". Следующие шаги выполняем в терминале (при учете того, что все настройки и приложения были настроены).

Запуск только UI-тестов:
1. Если не находимся в папке "tests", сперва переходим в папку "tests" командой "cd tests"
2. Дальше вводим команду "pytest test_UI.py --alluredir=./allure_result_1". Т.е. результаты тестов будут загружены в созданную папку "allure_result_1", папка "allure_result_1" будет автоматически создана сама.
3. При выполнении тестов нужно вручную подтверждать, что вы не робот, или делать какие-то проверки, что вы не робот, если такое происходит. 
Для всего этого заложено время в тестах при авторизации. Обойти данный шаг невозможно, так как в Кинопоиске авторизация происходит с аккаунтом Яндекса. 
Даже если не делать авторизацию, а подложить в куки токен авторизации, то всё равно нужно вручную подтверждать, что не робот.
4. Ждем завершения тестов
5. Дальше вводим команду "allure serve allure_result_1". Автоматически откроется страница с отчетом.

Запуск только API-тестов:
1. Если не находимся в папке "tests", сперва переходим в папку "tests" командой "cd tests"
2. Дальше вводим команду "pytest test_API.py --alluredir=./allure_result_2". Т.е. результаты тестов будут загружены в созданную папку "allure_result_2", папка "allure_result_2" будет автоматически создана сама.
3. Ждем завершения тестов
4. Дальше вводим команду "allure serve allure_result_2". Автоматически откроется страница с отчетом.

Запуск всех тестов:
1. Если не находимся в папке "tests", сперва переходим в папку "tests" командой "cd tests"
2. Дальше вводим команду "pytest --alluredir=./allure_result_3". Т.е. результаты тестов будут загружены в созданную папку "allure_result_3", папка "allure_result_3" будет автоматически создана сама.
3. При выполнении API-тестов вручную ничего не нужно делать, просто ждем завершения тестов.
4. При выполнении UI-тестов нужно вручную подтверждать, что вы не робот, или делать какие-то проверки, что вы не робот, если такое происходит. 
Для всего этого заложено время в тестах при авторизации. Обойти данный шаг невозможно, так как в Кинопоиске авторизация происходит с аккаунтом Яндекса.
Даже если не делать авторизацию, а подложить в куки токен авторизации, то всё равно нужно вручную подтверждать, что не робот.
5. Ждем завершения тестов
6. Дальше вводим команду "allure serve allure_result_3". Автоматически откроется страница с отчетом.